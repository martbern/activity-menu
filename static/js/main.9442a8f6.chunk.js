(this["webpackJsonpactivity-menu"]=this["webpackJsonpactivity-menu"]||[]).push([[0],{14:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n(5),r=n.n(i),c=(n(14),n(3)),s=n(6),a=n(7),l=n(9),d=n(8),u=n(2),p=n.n(u),f=n(0),b=new p.a({apiKey:"keywMvCl7aRV4a5af"}).base("appMcSmdPtPWcBhIX").table("Log"),h=(new Date).toISOString().substring(0,10),m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).fin=function(){var t=document.getElementById(e.props.id);t.style.opacity="0.1",b.update(e.props.id,{Fin:!0}).then((function(n){console.log("Mark as fin "+e.props.id),console.log(n),t.style.borderColor="red",t.style.borderWidth="medium"}))},e.propose=function(){var t=document.getElementById(e.props.id);t.style.opacity="0.2",b.create({fields:{"What?":[e.props.id],Context:"Leisure","exec-date":h,"Group #":5}}).then((function(n){console.log(n),console.log("Concluded? "+e.props.concluded),t.style.borderColor="yellow",t.style.borderWidth="medium"}))},e.openInAt=function(){console.log("Opening in Airtable"),window.open("https://airtable.com/tblo6SQZQakNq4URH/viwd4XwZ1wC8esYgg/"+e.props.id)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{children:Object(f.jsxs)("a",{href:this.href,className:"shadow-md hover:shadow-lg active:border-gray-500 group block rounded-lg p-4 border hover:border-gray-200 m-2 text-left justify-left text-justify",id:this.props.id,children:[Object(f.jsx)("div",{className:"p-3 grid",children:Object(f.jsx)("div",{className:"font-medium text-black text-xl pb-2",children:this.props.name})}),Object(f.jsxs)("div",{className:"grid grid-cols-3",children:[Object(f.jsx)("button",{onClick:function(){return e.propose()},className:"rounded-lg px-2 py-1 border active:border-gray-500 m-2 text-center focus:outline-none shadow hover:shadow-md active:shadow-sm",children:"Propose"}),Object(f.jsx)("button",{onClick:function(){return e.fin()},className:"rounded-lg px-2 py-1 border active:border-gray-500 m-2 text-center focus:outline-none shadow hover:shadow-md active:shadow-sm",children:"Fin"}),Object(f.jsx)("button",{onClick:function(){return e.openInAt()},className:"rounded-lg px-2 py-1 border active:border-gray-500 m-2 text-center focus:outline-none shadow hover:shadow-md active:shadow-sm",children:"Airtable"})]})]})})}}]),n}(o.Component),g=new p.a({apiKey:"keywMvCl7aRV4a5af"}).base("appMcSmdPtPWcBhIX").table("Activities");function j(e){var t=Object(o.useState)({}),n=Object(c.a)(t,2),i=n[0],r=n[1];return Object(o.useEffect)((function(){g.list({maxRecords:999,pageSize:100,view:"L: All activities",cellFormat:"json"}).then((function(e){r(e.records)})).catch((function(e){console.log(e)}))}),[]),console.log(i),console.log("Testing "+e.cycle),Object(f.jsx)("div",{className:"justify-center max-w-full w-full grid grid-cols-2",children:i.length>0?i.filter((function(e){return 1===e.fields["Show in menu"]})).filter((function(e){return!0!==e.fields.Fin})).sort((function(e,t){return e.fields.Rting_UL<t.fields.Rting_UL?1:t.fields.Rting_UL<e.fields.Rting_UL?-1:0})).map((function(e){return Object(f.jsx)(m,{name:e.fields.name_string,id:e.id},e.id)})):Object(f.jsx)("p",{children:"Fetching activity-menu if any uncompleted..."})})}var v=function(e){var t=Object(o.useState)({}),n=Object(c.a)(t,2),i=n[0],r=n[1];return console.log(i),Object(f.jsx)("div",{className:"grid mx-auto max-w-3xl",children:Object(f.jsx)("div",{className:"grid place-items-center",children:Object(f.jsx)(j,{filter:"False",reRun:r})})})};r.a.render(Object(f.jsx)(v,{tasks:[]}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.9442a8f6.chunk.js.map